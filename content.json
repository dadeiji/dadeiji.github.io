[{"title":"java错误解决记录(持续更新)","date":"2017-07-14T07:58:22.082Z","path":"2017/07/14/javaerror/","text":"dom4j读取文件 出现： 不能解析x字节的utf-8 struts2框架，date类型请求参数自动类型转换错误 org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named ‘sessionFactory’ is defined 使用beanuitls组件，注册事件转换器报错:空指针 一:dom4j读取文件 出现： 不能解析x字节的utf-8当你解析的xml格式出现这个错误可能就是在生成xml时没有保存为utf-8的字符编码格式.中文版的window下Java的默认的编码为GBK，也就是所虽然我们标识了要将xml保存为utf-8格式但实际上文件是以GBK格式来保存的. 所以我们读取时，手动解码: new BufferedReader(new InputStreamReader(new FileInputStream(path),&quot;utf-8&quot;))； 写入时，我们不能用字符流,改为使用字节流写入: new FileOutputStream(path), format)； 二： struts2框架，date类型请求参数自动类型转换错误struts2框架对于date时间类型默认支持类型: yyyy-MM-dd、yyyy年MM月dd日。但是这个支持的格式是浏览器编码为zh-cn，如果编码为en-us，就会出现类型转换错误。通过源码可以发现，struts2会根据不同编码决定来使用不同的时间转换格式。 三:org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named ‘sessionFactory’ is defined原因来自于: &lt;filter&gt; &lt;filter-name&gt;OpenSessionInViewFilter&lt;/filter-name&gt; &lt;filter-class&gt;org.springframework.orm.hibernate3.support.OpenSessionInViewFilter&lt;/filter-class&gt; &lt;/filter&gt; &lt;filter-mapping&gt; &lt;filter-name&gt;OpenSessionInViewFilter&lt;/filter-name&gt; &lt;url-pattern&gt;/*&lt;/url-pattern&gt; &lt;/filter-mapping&gt; 这个是解决hibernate懒加载问题的配置，此配置默认加载名为sessionFactory 的Bean对象，如果 &lt;bean id=&quot;sessionFactory&quot; class=&quot;org.springframework.orm.hibernate3.LocalSessionFactoryBean&quot;&gt; 此id名字不一致，就会报错。（整合hibernate配置文件后，会出现问题，之前不会）如果不想改名字，可配置: &lt;filter&gt; &lt;filter-name&gt;HibernateOpenSession&lt;/filter-name&gt; &lt;filter-class&gt;org.springframework.orm.hibernate3.support.OpenSessionInViewFilter&lt;/filter-class&gt; &lt;init-param&gt; &lt;param-name&gt;sessionFactoryBeanName&lt;/param-name&gt; &lt;param-value&gt;mySessionFactory&lt;/param-value&gt; 此处的值和bean名字一致就可解决 &lt;/init-param&gt; &lt;/filter&gt; &lt;filter-mapping&gt; &lt;filter-name&gt;HibernateOpenSession&lt;/filter-name&gt; &lt;url-pattern&gt;/*&lt;/url-pattern&gt; &lt;/filter-mapping&gt; 四:使用beanuitls组件，注册事件转换器报错:空指针 原因:导错包，应该导 import org.apache.commons.beanutils.ConvertUtils; import org.apache.commons.beanutils.locale.converters.DateLocaleConverter; 错的包和此包非常相似。","tags":[{"name":"java","slug":"java","permalink":"/tags/java/"},{"name":"错误解决记录","slug":"错误解决记录","permalink":"/tags/错误解决记录/"}]},{"title":"马克飞象编辑器测试","date":"2017-07-11T11:45:39.110Z","path":"2017/07/11/makefeixiang/","text":"马克飞象 markdown 总体来说用的还不错，第一次使用写md，还非常不适应，慢慢来吧。","tags":[{"name":"马克飞象","slug":"马克飞象","permalink":"/tags/马克飞象/"}]}]